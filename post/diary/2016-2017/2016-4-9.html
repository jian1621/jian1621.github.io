<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android开发的基础知识总结1 | 刘宣华</title>
    <meta name="description" content="android系统的基本结构，开发环境的介绍，以及四大组件的基本知识。">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.DHEJDGuR.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DeXU6VJF.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.BM1eVnFx.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BVgKs9HZ.js">
    <link rel="modulepreload" href="/assets/post_diary_2016-2017_2016-4-9.md.BN3g5tOi.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>首页</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>在写</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>在读</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/item-1.html" data-v-35975db6><!--[--><span data-v-35975db6>小说</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/item-2.html" data-v-35975db6><!--[--><span data-v-35975db6>产品</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/post/list100/todo_2025.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>List100</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/post/diary/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>日记</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _post_diary_2016-2017_2016-4-9" data-v-39a288b8><div><h2 id="android系统由下而上的结构" tabindex="-1">android系统由下而上的结构 <a class="header-anchor" href="#android系统由下而上的结构" aria-label="Permalink to &quot;android系统由下而上的结构&quot;">​</a></h2><blockquote><p>主要是介绍android系统的大轮廓，对于开发本身，并没有直接的作用，但了解android系统的内部架构，有利于开发的条理性，对于以后开发的app在整个系统中的兼容性，具有很好的前瞻性。而且，通过了解android内部所涉及到的知识点，我们可以更快捷的查找我们开发某一项功能所需要用到的技术。<a href="http://www.cnblogs.com/iceknp/archive/2011/03/29/1998590.html" target="_blank" rel="noreferrer">引用文档</a></p></blockquote><h4 id="内核层" tabindex="-1">内核层： <a class="header-anchor" href="#内核层" aria-label="Permalink to &quot;内核层：&quot;">​</a></h4><p>基于<strong>Linux2.6</strong>内核，涵盖与硬件打交道的驱动.</p><ul><li>显示驱动:基于linux的帧缓冲驱动</li><li>音/视频驱动：基于ALSA</li><li>相机驱动：V412驱动</li><li>蓝牙驱动：IEEE802.15.1</li><li>wifi驱动: IEEE802.11</li><li>电源管理</li><li>GSM模块</li><li>存储驱动: 基于MTD的FLASH驱动</li><li>usb驱动</li><li>触摸屏驱动</li><li>各类传感器</li></ul><h4 id="库支持层" tabindex="-1">库支持层 <a class="header-anchor" href="#库支持层" aria-label="Permalink to &quot;库支持层&quot;">​</a></h4><p>在内核基础上，android本身所能与内核打交道系列基础库</p><ul><li>surface manager，负责显示与存取操作之间的交互;</li><li>media Framework:负责多媒体模块的库，支持mp3,mp4等;</li><li>Sqlite:数据库;</li><li>OPenGL:3D图形库;</li><li>FreeType:字体库,位图及矢量;</li><li>WebKit：浏览器内核库;</li><li>SGL:2D图形引擎库;</li><li>SSL：基于TCP/IP协议与各种应用层之间的协议;</li><li>Dalvik虚拟机：运行开发的java程序;</li></ul><h4 id="应用框架层" tabindex="-1">应用框架层 <a class="header-anchor" href="#应用框架层" aria-label="Permalink to &quot;应用框架层&quot;">​</a></h4><p>系统开发核心应用所使用的api框架，我们所开发到的应用程序均是基于这些框架，并且在其基础上使用部分功能来实现，这是我们app开发的<strong>基础</strong>.</p><ul><li>Activity Manager: 用来管理程序生命周期并提供常用的导航退回功能。</li><li>Windows Manager: 管理所有的差un港口程序</li><li>Content Providers: 不同应用之间共享数据</li><li>View System: 视图布局类。</li><li>Notification Manager: 应用可以在状态栏中显示自定义的提示消息。</li><li>Package Manager: android系统内的程序管理</li><li>Telephony Manager: 通信模块管理</li><li>Resource Manager: 资源管理</li><li>Location Manager: 位置类</li></ul><h4 id="应用程序层" tabindex="-1">应用程序层 <a class="header-anchor" href="#应用程序层" aria-label="Permalink to &quot;应用程序层&quot;">​</a></h4><p>我们所基于内核--&gt;库--&gt;框架开发出来的android应用程序。能够完成视觉/功能/数据等交互。</p><h2 id="开发环境介绍" tabindex="-1">开发环境介绍 <a class="header-anchor" href="#开发环境介绍" aria-label="Permalink to &quot;开发环境介绍&quot;">​</a></h2><blockquote><p>主要是介绍android开发时，各类资源所存放的位置，以及一些技巧。</p></blockquote><h4 id="开发环境中的文件夹" tabindex="-1">开发环境中的文件夹 <a class="header-anchor" href="#开发环境中的文件夹" aria-label="Permalink to &quot;开发环境中的文件夹&quot;">​</a></h4><ul><li>src:存放java代码的地方。</li><li>gen:内容是自动生成的，开发者不要修改，主要包含R.java，即Id生成处。每个具体的资源(图片/布局文件/字符串等)均对应于R内定义的一个id.</li><li>assests: 存放一些随程序打包的文件。程序可以动态读取这些内容。使用WebView加载的网页相关文件也在此文件夹。</li><li>bin:编译时产生的文件，内包含生成的apk，可以安装到手机上使用。</li><li>libs:存放第三方的jar包</li><li>res:资源文件夹，项目中使用的图片、布局、字符串文件夹等。布局文件放在layout中，菜单布局存放在menu中。图片存放在drawable中，声音存放在raw中，字符串存放在values文件夹中。gen/R.java也是根据其生成，如果开发中出现R类找不到的错误，基本就是res中的问题。</li><li>AndroidManifest.xml:整个android文件的配置文件，activity/service/brocastReceiver/ContentProvider均需要在这里面注册后才能使用，一些权限声明(访问网络/相机/SDcard读写等权限)也需要写在这里。在这里还可以指定程序最低兼容版本和目标版本</li><li>project.properties. 指定编译程序所使用的SDK版本。</li></ul><h4 id="开发环境常用的命令" tabindex="-1">开发环境常用的命令 <a class="header-anchor" href="#开发环境常用的命令" aria-label="Permalink to &quot;开发环境常用的命令&quot;">​</a></h4><ul><li>clean:清除项目生成的内容，这个常用，有时候一些xml错误在clean后就能清除。</li><li>debug:打包一个调试用的android程序的apk包。</li><li>release:打包一个发布用的android程序的apk包。</li></ul><h4 id="调试工具" tabindex="-1">调试工具 <a class="header-anchor" href="#调试工具" aria-label="Permalink to &quot;调试工具&quot;">​</a></h4><ul><li>可以在在debug as模式下进行调试，并设置端点，观察各种数据的实时状态。</li><li>LogCat工具，能够显示android运行中预添加的log类信息。 添加方法：Window--Show View--- Other--logCat.</li></ul><h2 id="四大组件介绍" tabindex="-1">四大组件介绍 <a class="header-anchor" href="#四大组件介绍" aria-label="Permalink to &quot;四大组件介绍&quot;">​</a></h2><blockquote><p>主要是介绍android系统中，我们常用到的组件，并简略涉及其功能使用技巧。</p></blockquote><h4 id="activity和view" tabindex="-1">Activity和View <a class="header-anchor" href="#activity和view" aria-label="Permalink to &quot;Activity和View&quot;">​</a></h4><p>负责与用户交互，Activity是功能上的交互，像一个功能容器，继承于Activity基类。View则用来进行布局，是Ui控件的基类。Activity+View有点像C#中的对话框，但对话框的功能和布局是集中到一起的。setContentView()可以将activity和view绑定。</p><h4 id="service" tabindex="-1">Service <a class="header-anchor" href="#service" aria-label="Permalink to &quot;Service&quot;">​</a></h4><p>也是功能容器，但运行在后台，继承于Service类，其多用来为其他组件提供后台服务或监控其他组件的运行状态。</p><h4 id="broadcast-receiver" tabindex="-1">Broadcast Receiver <a class="header-anchor" href="#broadcast-receiver" aria-label="Permalink to &quot;Broadcast Receiver&quot;">​</a></h4><p>监听android应用中其他组件的消息。开发者通过继承BroadcastReceiver类，重写OnReceive方法即可。其他组件通过SendBroadCast()、SendStickybroadcast()或sendOrderedBroadcast()来发送消息时，可以通过BroadcastReceiver来接收，OnReceiver()会被触发，完成消息传递。 使用时需要对receiver进行注册，可通过代码，也可以通过在AndroidManifest.xml配置。</p><h4 id="content-provider" tabindex="-1">Content Provider <a class="header-anchor" href="#content-provider" aria-label="Permalink to &quot;Content Provider&quot;">​</a></h4><p>应用之间的消息传递，比如两个app之间需要交换数据，就可以通过ContentProvider进行交换。有以下交换方法：</p><ul><li>insert():插入数据</li><li>deleted() 删除数据</li><li>update() 更新数据</li><li>query() 查询数据 和contentProvider组合使用的是ContentResolver,即通过后者来访问前者提供的数据。 ####Intent 可以当作不同组件之间通信的载体。如从一个组件到另外一个activity/Service/BroadcastReceiver.</li><li>Activity: startActivity(Intent intent,int requestCode)</li><li>Service: startService(Intent intent);</li><li>BroadcastProvider: sendBroadcast(Intent intent); 均可以将数据存放到intent中，然后传输到不同的组件内。Intent分为显式和隐式两种。隐式intent通过IntentFilter来实现。显示intent在使用时，需要定义好Intent的跳转源activity和目标activity.隐式intent则可以自己预先xml中定义好intent过滤器intentfilter.然后在调用的时候就不用在代码中写显示intent所需求的内容。</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--[--><!--[--><div class="comments" data-v-f07f5222><!----></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="image-viewer"><!----></div><!--]--><!--]--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"DNXGL0bY\",\"post_diary_2016-2017_2013-03-01.md\":\"pK-qUJQg\",\"post_diary_2016-2017_2015-12-20-1.md\":\"Cjpso8Zm\",\"post_diary_2016-2017_2015-12-20.md\":\"BDX6wldf\",\"post_diary_2016-2017_2016-01-08.md\":\"CjiDofel\",\"post_diary_2016-2017_2016-02-15.md\":\"CTwgUGGA\",\"post_diary_2016-2017_2016-1-16.md\":\"BlwKSi0M\",\"post_diary_2016-2017_2016-1-2.md\":\"kFAnAEKB\",\"post_diary_2016-2017_2016-10-07.md\":\"ae6t_03h\",\"post_diary_2016-2017_2016-10-31.md\":\"BhIcWEeq\",\"post_diary_2016-2017_2016-2-29.md\":\"DJ999I5X\",\"post_diary_2016-2017_2016-3-12.md\":\"DsIykWzZ\",\"post_diary_2016-2017_2016-3-18.md\":\"yv9M59Wm\",\"post_diary_2016-2017_2016-3-25.md\":\"C3xqC0HH\",\"post_diary_2016-2017_2016-3-29.md\":\"BgTn4099\",\"post_diary_2016-2017_2016-3-3.md\":\"D4PshTnd\",\"post_diary_2016-2017_2016-4-16.md\":\"Bm8eobNH\",\"post_diary_2016-2017_2016-4-29.md\":\"DFatzqtc\",\"post_diary_2016-2017_2016-4-5.md\":\"U0HKGArx\",\"post_diary_2016-2017_2016-4-9.md\":\"BN3g5tOi\",\"post_diary_2016-2017_2016-5-27.md\":\"CsQr2iRZ\",\"post_diary_2016-2017_2016-6-27.md\":\"B0c89Iqu\",\"post_diary_2016-2017_2016-8-14.md\":\"CZpemFjE\",\"post_diary_2016-2017_2016-8-31.md\":\"BNtt5Xvx\",\"post_diary_2016-2017_2016-8-8 .md\":\"CCZjRjm_\",\"post_diary_2016-2017_2016-9-21.md\":\"BUsSFKON\",\"post_diary_2016-2017_2017-02-07.md\":\"xj9BWFHK\",\"post_diary_2016-2017_2017-09-07.md\":\"D2uZCO1L\",\"post_diary_2016-2017_2017-10-14.md\":\"Bc1JOxjc\",\"post_diary_index.md\":\"BXx5eWO4\",\"post_list100_todo_2025.md\":\"B0Bb3-4N\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"刘宣华\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"首页\",\"nav\":[{\"text\":\"在写\",\"link\":\"/guide/\"},{\"text\":\"在读\",\"items\":[{\"text\":\"小说\",\"link\":\"/item-1\"},{\"text\":\"产品\",\"link\":\"/item-2\"}]},{\"text\":\"List100\",\"link\":\"/post/list100/todo_2025\"},{\"text\":\"日记\",\"link\":\"/post/diary/\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>